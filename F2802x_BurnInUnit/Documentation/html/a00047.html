<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>F2802x Burn In Unit: slaveMode.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">F2802x Burn In Unit
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">slaveMode.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions and variables used in detection of the mode of the unit.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="a00076.png" border="0" usemap="#slave_mode_8hdep" alt=""/></div>
<map name="slave_mode_8hdep" id="slave_mode_8hdep">
<area shape="rect" id="node2" href="a00015.html" title="Common include file for the project. " alt="" coords="9,80,95,107"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:afb2b17d98c0aab4c05960f280d68084d"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#afb2b17d98c0aab4c05960f280d68084d">slaveMode</a></td></tr>
<tr class="separator:afb2b17d98c0aab4c05960f280d68084d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aca06f1f459e3a5a5af6da9c575e60754"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a> </td></tr>
<tr class="separator:aca06f1f459e3a5a5af6da9c575e60754"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac6755edae0bbfd8297081fcdc57ec18f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#ac6755edae0bbfd8297081fcdc57ec18f">detectSlaveMode</a> (void)</td></tr>
<tr class="separator:ac6755edae0bbfd8297081fcdc57ec18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0fdda7865dd9c0be0eb545cb8234865a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a0fdda7865dd9c0be0eb545cb8234865a">slaveModeStatus</a></td></tr>
<tr class="separator:a0fdda7865dd9c0be0eb545cb8234865a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions and variables used in detection of the mode of the unit. </p>
<p>These functions determine the mode of the burn in unit and should be run after system start up. The detection is managed using GPIO6 and GPIO7. A unit may be in one of four modes: a single unit, a master unit, a slave unit or alternatively a unit may be in the undetected mode which is the initial mode of a unit upon startup.</p>
<dl class="section warning"><dt>Warning</dt><dd>For the mode to be correctly detected the two units should be connected while powered off, then the slave unit should be powered on first, followed by powering on the master unit second. Once detected at startup, any further changes to the connected mode will not be detected and thus the detected mode reported will not reflect such changes to the connection mode of the unit. To change the connection mode of a unit, it, and any slave or master unit must be powered off again.</dd></dl>
<p>Also note that, as mentioned, the mode detection algorithm uses GPIO6. However the during initialisation and use of the SPI peripheral GPIO6 is used as a slave service request line. Thus even if the unit mode is not used in conjunction with the SPI functions they should still only be used after the slave mode has been detected. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="afb2b17d98c0aab4c05960f280d68084d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a> <a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A type to allow specification of the unit mode </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="aca06f1f459e3a5a5af6da9c575e60754"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The possible unit modes </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac6755edae0bbfd8297081fcdc57ec18f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a> detectSlaveMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Detects the unit mode. This should only be run once, at startup, to allow the mode to be provided to any other function initialisations that may rely on it.</p>
<p>When a slave unit is powered on the state of GPIO7 is read. If the reading is LOW, this indicates that the unit is a slave and subsequently GPIO6 is set HIGH. If the GPIO7 reading indicated that the unit is a master unit the state of GPIO6 is then read and if it is LOW it determines that the unit is a single unit.</p>
<dl class="section return"><dt>Returns</dt><dd>The detected slave mode. If the mode has already been detected the state will be available by referencing the slaveModeStatus variable instead. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a0fdda7865dd9c0be0eb545cb8234865a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00047.html#aca06f1f459e3a5a5af6da9c575e60754">slaveMode</a> slaveModeStatus</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A global variable that holds the detected mode of the unit, allowing the mode to be queried. </p>

</div>
</div>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Wed Nov 6 2013
<!--
Generated on Thu Apr 25 2013 10:35:11 for F2802x_BurnInUnit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
-->
</small></address>
</body>
</html>
