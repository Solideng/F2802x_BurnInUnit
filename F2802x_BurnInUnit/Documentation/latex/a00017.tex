\hypertarget{a00017}{\section{Comparator.\-h File Reference}
\label{a00017}\index{Comparator.\-h@{Comparator.\-h}}
}


Comparator, D\-A\-C and trip zone functions.  


This graph shows which files directly or indirectly include this file\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=154pt]{a00063}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{a00017_a027da8e86de2dad92525a72406aca07b}{init\-Trip\-Zone} (void)
\item 
void \hyperlink{a00017_a7e69a8a85db8232ec6da973ef2861a5c}{init\-Dc\-Comparator} (void)
\item 
void \hyperlink{a00017_ae510122953eb2f6575eff63c4c0c6ae8}{rst\-Dc\-Tripzone} (void)
\item 
void \hyperlink{a00017_afac946d62f0f80d9c51a4e90a3b761a5}{init\-Ac\-Comparator} (void)
\item 
Uint16 \hyperlink{a00017_a4744ecd2e5380acd0df217952ca6db0d}{set\-Ac\-Dac} (float32 level)
\item 
Uint16 \hyperlink{a00017_a1d9a18a29a555d85f70597ff1d15c5de}{get\-Ac\-Dac} (float32 $\ast$level)
\item 
void \hyperlink{a00017_aa8b3c8342231e037104a6100df56b11b}{rst\-Ac\-Tripzone} (void)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Comparator, D\-A\-C and trip zone functions. Requires the modification of the C\-O\-M\-P\-\_\-\-R\-E\-G\-S struct of the D\-S\-P2802x\-\_\-\-Global\-Variable\-Defs in the file D\-S\-P2802x\-\_\-\-Comp.\-h, to allow use of the D\-A\-C\-C\-T\-L and ramp-\/related register unions. Use the equivalent file from the f2903x includes for reference. 

\subsection{Function Documentation}
\hypertarget{a00017_a1d9a18a29a555d85f70597ff1d15c5de}{\index{Comparator.\-h@{Comparator.\-h}!get\-Ac\-Dac@{get\-Ac\-Dac}}
\index{get\-Ac\-Dac@{get\-Ac\-Dac}!Comparator.h@{Comparator.\-h}}
\subsubsection[{get\-Ac\-Dac}]{\setlength{\rightskip}{0pt plus 5cm}Uint16 get\-Ac\-Dac (
\begin{DoxyParamCaption}
\item[{float32 $\ast$}]{level}
\end{DoxyParamCaption}
)}}\label{a00017_a1d9a18a29a555d85f70597ff1d15c5de}
Queries the output level setting of the D\-A\-C on the inverting input of the D\-C comparator. i\-Scale M\-U\-S\-T be set before use. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em level} & Pointer to location at which to place the query result (amps). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error status. 
\end{DoxyReturn}
\hypertarget{a00017_afac946d62f0f80d9c51a4e90a3b761a5}{\index{Comparator.\-h@{Comparator.\-h}!init\-Ac\-Comparator@{init\-Ac\-Comparator}}
\index{init\-Ac\-Comparator@{init\-Ac\-Comparator}!Comparator.h@{Comparator.\-h}}
\subsubsection[{init\-Ac\-Comparator}]{\setlength{\rightskip}{0pt plus 5cm}void init\-Ac\-Comparator (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{a00017_afac946d62f0f80d9c51a4e90a3b761a5}
Initialises the A\-C comparator (C\-O\-M\-P 1) using an internal D\-A\-C at the inverting input.
\begin{DoxyItemize}
\item S\-H\-O\-U\-L\-D be called A\-F\-T\-E\-R adc\-Soc\-Cnf().
\item S\-H\-O\-U\-L\-D be called B\-E\-F\-O\-R\-E P\-W\-M\-S (S\-Y\-N\-C) are started.
\item S\-H\-O\-U\-L\-D be called B\-E\-F\-O\-R\-E pwm\-T\-Z\-Configure(). 
\end{DoxyItemize}\hypertarget{a00017_a7e69a8a85db8232ec6da973ef2861a5c}{\index{Comparator.\-h@{Comparator.\-h}!init\-Dc\-Comparator@{init\-Dc\-Comparator}}
\index{init\-Dc\-Comparator@{init\-Dc\-Comparator}!Comparator.h@{Comparator.\-h}}
\subsubsection[{init\-Dc\-Comparator}]{\setlength{\rightskip}{0pt plus 5cm}void init\-Dc\-Comparator (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{a00017_a7e69a8a85db8232ec6da973ef2861a5c}
Initialises the D\-C comparator (C\-O\-M\-P 2) using an internal D\-A\-C at the inverting input.
\begin{DoxyItemize}
\item S\-H\-O\-U\-L\-D be called A\-F\-T\-E\-R adc\-Soc\-Cnf().
\item S\-H\-O\-U\-L\-D be called B\-E\-F\-O\-R\-E P\-W\-M\-S (S\-Y\-N\-C) are started.
\item S\-H\-O\-U\-L\-D be called B\-E\-F\-O\-R\-E pwm\-T\-Z\-Configure().
\item mid\-V\-Scale should be set before use. 
\end{DoxyItemize}\hypertarget{a00017_a027da8e86de2dad92525a72406aca07b}{\index{Comparator.\-h@{Comparator.\-h}!init\-Trip\-Zone@{init\-Trip\-Zone}}
\index{init\-Trip\-Zone@{init\-Trip\-Zone}!Comparator.h@{Comparator.\-h}}
\subsubsection[{init\-Trip\-Zone}]{\setlength{\rightskip}{0pt plus 5cm}void init\-Trip\-Zone (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{a00017_a027da8e86de2dad92525a72406aca07b}
Configures P\-W\-M trip zones for use. Requires the comparator and D\-A\-C to be configured \begin{DoxySeeAlso}{See Also}
\hyperlink{a00012}{adc.\-h} 
\end{DoxySeeAlso}
\hypertarget{a00017_aa8b3c8342231e037104a6100df56b11b}{\index{Comparator.\-h@{Comparator.\-h}!rst\-Ac\-Tripzone@{rst\-Ac\-Tripzone}}
\index{rst\-Ac\-Tripzone@{rst\-Ac\-Tripzone}!Comparator.h@{Comparator.\-h}}
\subsubsection[{rst\-Ac\-Tripzone}]{\setlength{\rightskip}{0pt plus 5cm}void rst\-Ac\-Tripzone (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{a00017_aa8b3c8342231e037104a6100df56b11b}
Resets the A\-C trip zone after an A\-C comparator event. \hypertarget{a00017_ae510122953eb2f6575eff63c4c0c6ae8}{\index{Comparator.\-h@{Comparator.\-h}!rst\-Dc\-Tripzone@{rst\-Dc\-Tripzone}}
\index{rst\-Dc\-Tripzone@{rst\-Dc\-Tripzone}!Comparator.h@{Comparator.\-h}}
\subsubsection[{rst\-Dc\-Tripzone}]{\setlength{\rightskip}{0pt plus 5cm}void rst\-Dc\-Tripzone (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{a00017_ae510122953eb2f6575eff63c4c0c6ae8}
Resets the D\-C trip zone after an D\-C comparator event. \hypertarget{a00017_a4744ecd2e5380acd0df217952ca6db0d}{\index{Comparator.\-h@{Comparator.\-h}!set\-Ac\-Dac@{set\-Ac\-Dac}}
\index{set\-Ac\-Dac@{set\-Ac\-Dac}!Comparator.h@{Comparator.\-h}}
\subsubsection[{set\-Ac\-Dac}]{\setlength{\rightskip}{0pt plus 5cm}Uint16 set\-Ac\-Dac (
\begin{DoxyParamCaption}
\item[{float32}]{level}
\end{DoxyParamCaption}
)}}\label{a00017_a4744ecd2e5380acd0df217952ca6db0d}
Sets the output level of the D\-A\-C on the inverting input of the A\-C comparator. The voltage and i\-Scale M\-U\-S\-T be set before use. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em level} & Specifies the value of the level setting to be applied (amps). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error status. 
\end{DoxyReturn}
